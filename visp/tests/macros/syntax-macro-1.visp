;; Copyright 2023 Ville Penttinen
;; Distributed under the MIT License.
;; https://github.com/vipentti/visp-fs/blob/main/LICENSE.md
;;
;; for basic syntax highlighting
;; vim: set syntax=clojure:

;; this rule will never be matched
#nowarn "0026"

(syntax-macro my-or
  [(_) true]
  [(_ exp) exp]
  [(_ exp rest ...)
    (do
      (let ortemp exp)
      (if ortemp
        ortemp
        (my-or rest ...)
      ))
  ])

(printfn "%A" (my-or))
(printfn "%A" (my-or (Value.bool false)))
(printfn "%A" (my-or (Value.bool false) (Value.string "this works, yay")))
(printfn "%A" (my-or (Value.bool false) (Value.bool false) (Value.string "this works, yay")))
